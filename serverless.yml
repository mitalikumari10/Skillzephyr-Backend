service: mitali-sls
frameworkVersion: "4"

provider:
  name: aws
  runtime: nodejs20.x
  role: arn:aws:iam::546628620317:role/LabRole
  region: us-east-1

functions:
  profile:
    handler: handler.profile
    events:
      - http:
          path: profile
          method: get
          cors: true

  createPaymentOrder:
    handler: handler.createPaymentOrder
    events:
      - http:
          path: create-payment-order
          method: post
          cors: true

  verifyPayment:
    handler: handler.verifyPayment
    events:
      - http:
          path: verify-payment
          method: post
          cors: true


  renderhome:
    handler: handler.homepage
    events:
      - http:
          path: homepage
          method: get
          cors: true

  rendercourse:
    handler: handler.coursepage
    events:
      - http:
          path: course
          method: get
          cors: true

  registerUser:
    handler: handler.registerUser
    events:
      - http:
          path: register
          method: post
          cors: true

  loginUser:
    handler: handler.loginUser
    events:
      - http:
          path: login
          method: post
          cors: true

  validateToken:
    handler: handler.validateToken
    events:
      - http:
          path: validate
          method: post
          cors: true
          
  checkCoursePurchase:
    handler: handler.checkCoursePurchase
    events:
      - http:
          path: check-course-purchase
          method: post
          cors: true
    
  updateUserCourses:
    handler: handler.updateUserCourses
    events:
      - http:
          path: updateUserCourses
          method: post
          cors: true
